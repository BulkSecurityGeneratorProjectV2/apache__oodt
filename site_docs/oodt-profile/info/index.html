<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 04-Nov-2016 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Profile Service &#x2013; Information Captured in a Profile</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
      <meta name="author" content="Sean Kelly" />
    <meta name="Date-Revision-yyyymmdd" content="20161104" />
    <meta http-equiv="Content-Language" content="en" />
        <!-- Infected Mushroom - Deeply Disturbed -->
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Profile Service
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 04-Nov-2016</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="../../oodt-site/" title="OODT">OODT</a>
            |
                        <a href="../../grid/" title="Grid">Grid</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>User's Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="../info/" title="Information Captured">Information Captured</a>
            </li>
                  <li class="none">
                          <a href="../querying/" title="Querying Profiles">Querying Profiles</a>
            </li>
                  <li class="none">
                          <a href="../rep/" title="Profile Repr.">Profile Repr.</a>
            </li>
                  <li class="none">
                          <a href="../handler/" title="Basic Handler">Basic Handler</a>
            </li>
                  <li class="none">
                          <a href="../adv/" title="Advanced Handler">Advanced Handler</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor
license agreements.  See the NOTICE.txt file distributed with this work for
additional information regarding copyright ownership.  The ASF licenses this
file to you under the Apache License, Version 2.0 (the "License"); you may not
use this file except in compliance with the License.  You may obtain a copy of
the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
License for the specific language governing permissions and limitations under
the License. -->
  
    <div class="section">
<h2><a name="Information_Captured_in_a_Profile"></a>Information Captured in a Profile</h2>

      
<p>A profile serves as a generic template for describing the
	characteristics of a resource. The question posed to a profile
	generally takes the form of, &quot;Can you answer <var>X</var>?&quot; or
	&quot;Do you know the location of <var>X</var>?&quot; where <var>X</var>
	is some resource being sought. The more fully a profile describes
	a particular resource, the better the profile can be used to
	determine if the resource has the information in <var>X</var>.
      </p>

    </div>

    
<div class="section">
<h2><a name="Information_and_Organization"></a>Information and Organization</h2>
      
<p>Profile servers capture three kinds of information:</p>

      
<ul>
	
<li><b>Resource Attributes</b> 
<p>Resource attributes are
	  metadata about the resource's <i>inception</i>.  These
	  attributes include the creator of the resource, in what
	  language it exists, when it was created, and so forth.
	  These attributes are based on the work of the <a class="externalLink" href="http://www.dmci.org/">Dublin Core Metadata Initiative</a>.
	  </p>
	</li>

	
<li><b>Profile Elements</b> 
<p>Profile elements are metadata
	    about the resource's <i>composition</i>.  These tell you
	    about the morphology of the resource, such as data types
	    captured within in, minimum and maximum values, synonymous
	    elements, and so forth.  These attributes are based on <a class="externalLink" href="http://metadata-standards.org/11179/">ISO/IEC 11179
	    standards</a>.
	  </p>
	</li>

	
<li><b>Profile Attributes</b> 
<p>Profile attributes are
	    metadata about the <i>profile itself</i>, such as who
	    made it, whether it's classified, revision notes, and so
	    forth.  It also has a unique identifying <a class="externalLink" href="http://www.alvestrand.no/objectid/index.html">Object
	    Identifier (OID)</a>.
	  </p>
	</li>
      </ul>

      
<p>The following class diagram shows the relationship between
	the different parts of a profile:
      </p>

      <img src="../images/class.png" alt="Class diagram" />

      
<p>While this diagram shows the Java field names and Java
	classes, the relationship applies to profiles whether they
	exist as Java objects, as RDF documents, or as XML documents
	in the profile vocabulary.
      </p>
    </div>

    
<div class="section">
<h2><a name="Inception_Metadata"></a>Inception Metadata</h2>
      
<p>Profiles, whether expressed in RDF or in their own XML
	vocabulary, have a section for capturing information about the
	resource's inception.  This includes information about when the
	resource was created, who created it, in what language it
	exists, and so forth.  Profiles use the element set recommended
	by the Dublin Core Metadata Initiative (DCMI) set in order to
	describe the inception of a resource, with some extensions.
      </p>

      
<p>Collectively, these metadata are called the <i>resource
	attributes</i> or <tt>resAttributes</tt> of the profile.
	Every profile has one and only one set of
	<tt>resAttributes</tt>.  The metadata elements within the
	<tt>resAttributes</tt> are defined in this section.
      </p>

      
<div class="section">
<h3><a name="Identifier"></a>Identifier</h3>
	
<p>As defined by the DCMI, the <tt>Identifier</tt> of a
	  resource is some unambiguous way to identify the resource.
	  In the profile implementation, one and only one
	  <tt>Identifier</tt> is <span class="emphasis"><i>required</i></span>.
	</p>

	
<p>It's highly recommended that <tt>Identifier</tt>s and
	  <tt>resLocation</tt>s (see below) be URIs, but there's
	  no software enforcment for this <i>unless you convert a
	  Java profile to RDF</i> with the <tt>toRDF</tt> method.
	  Identifiers should be more like URNs, while resLocations
	  should be more like URLs.
	</p>
      </div>
      
<div class="section">
<h3><a name="Title"></a>Title</h3>
	
<p>The <tt>Title</tt> names the resource, and is the name by
	  which the resource is formally known.  The <tt>Title</tt> is
	  optional; if present, it may occur only once in a profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="Format"></a>Format</h3>
	
<p>The <tt>Format</tt> indicates the manifestation of the
	  resource.  You can specify any number of <tt>Format</tt>s in
	  a profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="Description"></a>Description</h3>
	
<p>The <tt>Description</tt> element contains a free text
	  account of the content of the resource.  It's optional in a
	  profile; if present, it may occur only once.
	</p>
      </div>
      
<div class="section">
<h3><a name="Creator"></a>Creator</h3>
	
<p>Zero or more <tt>Creator</tt>s may be specified in a
	  profile.  <tt>Creator</tt>s contain the name of people or
	  organizations that created the resource.
	</p>
      </div>
      
<div class="section">
<h3><a name="Subject"></a>Subject</h3>
	
<p>You can list zero or more <tt>Subject</tt>s in a profile.
	  The purpose of the <tt>Subject</tt> elements is to contain a
	  keywords that describe the resource, usually selected from a
	  controlled vocabulary.
	</p>
      </div>
      
<div class="section">
<h3><a name="Publisher"></a>Publisher</h3>
	
<p>Any number of <tt>Publisher</tt> elements may appear in a
	  profile.  They contain the organization responsible for
	  making the resource available.
	</p>
      </div>
      
<div class="section">
<h3><a name="Contributor"></a>Contributor</h3>
	
<p>A <tt>Contributor</tt> is a person or organization
	  providing auxilliary work towards the resource's creation.
	  Any number of <tt>Contributor</tt>s may be listed in a
	  profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="Date"></a>Date</h3>
	
<p><tt>Date</tt> elements indicate the times in history when
	  the resource was created.  You can include any number of
	  <tt>Date</tt>s in a profile, although typically you'll
	  specify just one if you speciy any at all.
	</p>
      </div>
      
<div class="section">
<h3><a name="Type"></a>Type</h3>
	
<p>The <tt>Type</tt> element indicates the nature of the
	  content of the resource, such as &quot;fiction&quot; for a work of
	  fiction or &quot;image&quot; for a dataset rendered graphically.  You
	  can include any number of <tt>Type</tt>s in a profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="Source"></a>Source</h3>
	
<p>When a resource is derived others, the <tt>Source</tt>
	  element should indicate the <tt>Identifier</tt>s of the
	  referenced resources.  You can specify any number of
	  <tt>Source</tt>s in a profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="Language"></a>Language</h3>
	
<p>For resources that contain natural language content, the
	  <tt>Language</tt> element indicates the languages in use.
	  You can specify this element any number of times in a
	  profile.
      	</p>
      </div>
      
<div class="section">
<h3><a name="Relation"></a>Relation</h3>
	
<p>When a resource is related to others, you can specify the
	  <tt>Identifier</tt>s of the related resources using zero or
	  more <tt>Relation</tt> elements.
      	</p>
      </div>
      
<div class="section">
<h3><a name="Coverage"></a>Coverage</h3>
	
<p>For resources that cover a space or time or jurisdiction,
	  use the <tt>Coverage</tt> element to indicate such coverage.
	  This element may be listed any number of times in a profile,
	  and its content should come from a controlled vocabulary.
	  For resources with specific coordinate systems, it's better
	  to use profile elements, described below.
      	</p>
      </div>
      
<div class="section">
<h3><a name="Rights"></a>Rights</h3>
	
<p>Copyright, ownership, redistribution, use, and other legal
	  issues may exist for a resource.  When that happens, use the
	  <tt>Rights</tt> element to list the rights management
	  information.  You can list zero or more <tt>Rights</tt>
	  elements in a profile.
	</p>
	
<p><i>Note:</i> The official name of element for is plural
	  <tt>Rights</tt>; this is inconsistent with the other
	  metadata elements, but is consistent with the DCMI.
	</p>
      </div>
      
<div class="section">
<h3><a name="resContext"></a>resContext</h3>
	
<p>The <tt>resContext</tt> element identifies the application
	  environment or discipline within which the resource
	  originates and is derived from a taxonomy of scientific
	  disciplines.  This element is required in a profile and may
	  occur multiple times.
	</p>

	
<p>As an example, a <tt>resContext</tt> of
	  <tt>NASA.PDS.Geoscience</tt> tells that the resource is
	  associated with the Geoscience node of the Planetary Data
	  System.
	</p>
      </div>
      
<div class="section">
<h3><a name="resAggregation"></a>resAggregation</h3>
	
<p>The <tt>resAggregation</tt> element indicates the
	  aggregative structure of the resource.  It tells you what
	  you'll get if you retrieve the resource: a granule, a
	  dataset, or a collection of datasets.  The legal values of
	  this optional elements are:
	</p>

	
<ul>
	  
<li><tt>granule</tt>, meaning the resource is a single
	    product
	  </li>
	  
<li><tt>dataSet</tt>, meaning the resource is a set of
	    products
	  </li>
	  
	  
<li><tt>dataSetCollection</tt>, meaning the resource is
	    collection of datasets
	  </li>
	</ul>

	
<p>The <tt>resAggregation</tt> element is optional; however,
	  if specified, it may appear in a profile only once.
      	</p>
      </div>
      
<div class="section">
<h3><a name="resClass"></a>resClass</h3>
	
<p>The <tt>resClass</tt> element identifies the kind of the
	  resource within a taxonomy of resource types.  It's a
	  <i>required</i> element that is used by the OODT Framework
	  to determine how to treat the profile as well as the
	  resource named by the profile.
	</p>

	
<p>For example, a <tt>resClass</tt> of
	  <tt>system.productServer</tt> indicates that the resource is
	  an OODT product server.  A query that matches this profile
	  means that if the same query were given to the identified
	  product server, it would yield a result.  A
	  <tt>resClass</tt> of <tt>system.profileServer</tt> means the
	  resource is a profile server.  That means that while the
	  current profile server may or may not provide a matching
	  profile, another profile server might, forming an implicit
	  digraph of profile servers.  Other valid <tt>resClass</tt>
	  values include <tt>data.granule</tt>, <tt>data.dataSet</tt>,
	  and <tt>application.interface</tt>.
      	</p>
      </div>

      
<div class="section">
<h3><a name="resLocation"></a>resLocation</h3>
	
<p>Zero or more <tt>resLocation</tt> elements may appear in
	  a profile.  They tell where the resource is located, easily
	  the most important part of the profile.  Because this
	  element may appear several times, all locations should be
	  considered valid; the application may pick the one that's
	  most convenient.  The <tt>resLocation</tt> may also appear zero
	  times.  This means that the profile indicates solely that
	  the resource existswhere is unknown.
	</p>

	
<p>The interpretation of the resLocation is as a URI.  For
	  example, a <tt>resClass</tt> of
	  <tt>system.productServer</tt> or
	  <tt>system.profileServer</tt> means that the
	  <tt>resLocation</tt> indicates an URN to a software object
	  name.  Querying that object will yield either the desired
	  result (for product servers) or more matching profiles (for
	  profile servers).  For a resClass of <tt>data.granule</tt>
	  or <tt>data.dataSet</tt>, the <tt>resLocation</tt> is an URL
	  to the granule or dataset.
	</p>
      </div>
    </div>

    
<div class="section">
<h2><a name="Composition_Metadata"></a>Composition Metadata</h2>
      
<p>The most interesting part of a profile is in the metadata
	that describes the composition of the resource that the
	profile profiles.  The composition metadata is what enables a
	profile server to tell if a particular resource can answer a
	query.
      </p>

      
<p>The composition metadata is based on the data element
	description standards in ISO/IEC standard 11179.  They are the
	<i>profile elements</i> or <tt>profElement</tt>s of a profile.
	Every profile may have zero or more <tt>profElement</tt>s, the
	components of which are discussed in this section.
      </p>

      
<div class="section">
<h3><a name="elemId"></a>elemId</h3>
	
<p>The <tt>elemId</tt> is an optional universally unique
	  identifier applied to the element.
      	</p>
      </div>
      
<div class="section">
<h3><a name="elemName"></a>elemName</h3>
	
<p>The <tt>elemName</tt> is the <i>required</i> name of the
	  profile element.  It serves as the title role of one of the
	  components of the resource.
      	</p>
      </div>
      
<div class="section">
<h3><a name="elemDesc"></a>elemDesc</h3>
	
<p>The <tt>elemDesc</tt> is the description of the profile
	  element.  Although the title may often be enough to identify
	  the purpose of the profile element, the description should
	  be used to provide any further, free-text information that
	  may be of importance to analysts and profile administrators.
	  The description is optional.
      	</p>
      </div>
      
<div class="section">
<h3><a name="elemType"></a>elemType</h3>
	
<p>The <tt>elemType</tt> indicates the type of data
	  represented in the profile element, synonymous to the
	  ISO/IEC 11179 <tt>Datatype</tt> attribute.  The permissible
	  values are:
	</p>

	
<ul>
	  
<li><tt>boolean</tt></li>
	  
<li><tt>character</tt></li>
	  
<li><tt>date_time</tt></li>
	  
<li><tt>enumerated</tt></li>
	  
<li><tt>integer</tt></li>
	  
<li><tt>ordinal</tt></li>
	  
<li><tt>rational</tt></li>
	  
<li><tt>scaled</tt></li>
	  
<li><tt>real</tt></li>
	  
<li><tt>complex</tt></li>
	  
<li><tt>state</tt></li>
	  
<li><tt>void</tt></li>
	</ul>

	
<p>This element is optional within a profile element.  When
	  it's not present, the profile element merely indicates that
	  the resource's content possesses the attribute, but more is
	  not known.
      	</p>
      </div>

      
<div class="section">
<h3><a name="elemUnit"></a>elemUnit</h3>
	
<p>The <tt>elemUnit</tt> indicates the units associated with
	  the values of the data element. This element is synonymous
	  to the ISO/IEC 11179 attribute <tt>unit.of.quantity</tt>.
	  Values for this optional element should be selected from
	  standardized tables of units.
      	</p>
      </div>

      
<div class="section">
<h3><a name="elemEnumFlag_elemValue_elemMinValue_and_elemMaxValue"></a>elemEnumFlag, elemValue, elemMinValue, and elemMaxValue</h3>
	
<p>The <tt>elemEnumFlag</tt> tells how possible values of the
	  profile element are specified.  It works with the
	  <tt>elemValue</tt>, <tt>elemMinValue</tt>, and
	  <tt>elemMaxValue</tt> elements:
	</p>

	
<ul>
	  
<li>If the <tt>elemEnumFlag</tt>'s value is <tt>T</tt> and
	    one or more <tt>elemValue</tt>s appear, then the values
	    listed are the valid values of the element.
	  </li>
	  
<li>If the value is <tt>F</tt>, then a closed range of
	    values bounded by the profile's <tt>elemMinValue</tt> and
	    <tt>elemMaxValue</tt> elements indicates the valid values.
	  </li>
	  
<li>If the value is <tt>T</tt> but no <tt>elemValue</tt>s
	    appear, then it means that any value is a valid
	    value for the resource.
	  </li>
	</ul>

      </div>

      
<div class="section">
<h3><a name="elemSynonym"></a>elemSynonym</h3>
	
<p>Often, a characteristic of a resource will go by several
	  names, especially between scientific disciplines.  What one
	  person may call <i>latitude</i>, another may call <i>x
	    coordinate</i>, for example.  By specifiyng synonyms for a
	  profile element, you can assist in automatic correlation of
	  results and cross-disciplinary discovery.
	</p>

	
<p>The <tt>elemSynonym</tt> provides a way to do just that.
	  Zero or more <tt>elemSynonym</tt>s may appear in a profile
	  element.  The values of this element are names from data
	  dictionaries other than the discipline data dictionary
	  hosting the profile.
      	</p>
      </div>
      
<div class="section">
<h3><a name="elemObligation"></a>elemObligation</h3>
	
<p>The <tt>elemObligation</tt> tells whether the data element
	  is required to always or sometimes be present. This element
	  is synonymous to the ISO/IEC 11179 attribute
	  <tt>Obligation</tt>, and is optional within a profile
	  element.
	</p>

	
<p>The legal values for this element are <tt>Required</tt> and
	  <tt>Optional</tt>, with the obvious meanings.
      	</p>
      </div>
      
<div class="section">
<h3><a name="elemComment"></a>elemComment</h3>
	
<p>The <tt>elemComment</tt> field provides a remark concerning
	  the application of the data element.  This element is
	  synonymous to the ISO/IEC 11179 attribute <tt>Comment</tt>,
	  and is optional within a profile element.
	</p>
      </div>
    </div>

    
<div class="section">
<h2><a name="Metadata_about_the_Profile"></a>Metadata about the Profile</h2>
      
<p>For a profile server to manage a set of profiles, it's
	necessary to have metadata contained within the profile that
	describes the profile itself.  This metadata, collectively
	called the profile attributes, or <tt>profAttributes</tt>,
	serves that purpose.
      </p>

      
<p>Most of the elements within the <tt>profAttributes</tt> are
	optional.  This sections describes each of them.
      </p>

      
<div class="section">
<h3><a name="profId"></a>profId</h3>
	
<p>The <tt>profId</tt> serves to give a unique identifier to
	  the profile.  It should be expressed as a URI, and often as
	  an URN.
      	</p>
      </div>
      
<div class="section">
<h3><a name="profVersion"></a>profVersion</h3>
	
<p>The <tt>profVersion</tt> identifies the version number of
	  the profile.
      	</p>
      </div>
      
<div class="section">
<h3><a name="profType"></a>profType</h3>
	
<p>The <tt>profType</tt> identifies the type of the profile.
	  The type that typically appears here is <tt>profile</tt>,
	  meaning the profile is a profile (obviously).
	</p>

	
<p>Another type that can be here is <tt>dataDict</tt>, which
	  indicates that the profile doesn't describe a resource, but
	  instead is a data dictionary for other profiles.  Such a
	  profile's composition elements name the expected profile
	  elements and ranges of valid valuese that will appear in
	  other profiles.  The <tt>profDataDictId</tt> element
	  identifies the profile serving as its data dictionary.
	</p>
      </div>
      
<div class="section">
<h3><a name="profStatusId"></a>profStatusId</h3>
	
<p>The <tt>profStatusId</tt> identifies the state of the
	  profile.  Profiles may be either <tt>active</tt> or
	  <tt>inactive</tt>.  An inactive profile is likely maintained
	  for historical or exemplary reasons but is otherwise not
	  currently used for searches or resource descriptions.
	</p>
      </div>
      
<div class="section">
<h3><a name="profSecurityType"></a>profSecurityType</h3>
	
<p>The <tt>profSecurityType</tt> identifies whether the
	  information contained in the profile may be of a sensitive
	  nature.  Any string is valid here as the current OODT
	  software does not use this field.
	</p>
      </div>
      
<div class="section">
<h3><a name="profParentId"></a>profParentId</h3>
	
<p>The <tt>profParentId</tt> optionally identifies the URI of
	  the parent of this profile.  Profiles may be arranged
	  hierarchically in a singly rooted tree in a forest.
	</p>
      </div>
      
<div class="section">
<h3><a name="profChildId"></a>profChildId</h3>
	
<p>The <tt>profChildId</tt>
	  identifies zero or more children (by duplicating the element) of
	  this profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="profRegAuthority"></a>profRegAuthority</h3>
	
<p>The <tt>profRegAuthority</tt>
	  names the registration authority responsible for authoring and
	  maintaining the profile.
	</p>
      </div>
      
<div class="section">
<h3><a name="profRevisionNote"></a>profRevisionNote</h3>
	
<p>The <tt>profRevisionNote</tt> appears zero or more times in
	  the profile to describe changes made to it over time.  The
	  notes are free form text, and each element is ordered from
	  newest to oldest note.
	</p>
      </div>
      
<div class="section">
<h3><a name="profDataDictId"></a>profDataDictId</h3>
	
<p>The <tt>profDataDictId</tt>
	  identifies the profile providing a data dictionary to the
	  current profile.
	</p>
      </div>
    </div>

    
<div class="section">
<h2><a name="Describing_Resources"></a>Describing Resources</h2>
      
<p>Let's take a look at how profiles would describe resources by
	looking at an example set of scientific data.  Suppose you
	archive high temperature data for your weather service; this
	data comes in the form of tables of latitude/longitude
	locations and the high temperature recorded at each point.
	Since you're archiving daily high temperatures, there's one
	table per day, so each day's table is a discrete resource.
	Let's say you've got just three days of data so far, though,
	and it looks like this (to keep things simple).
      </p>

      
<table border="0" class="bodyTable">
	<thead>
	  
<tr class="a">
	    
<th>Day Number</th> 
	    
<th>Lat</th>
	    
<th>Lon</th>
	    
<th>High Temp</th>
	  </tr>
	</thead>
	<tbody>
	  
<tr class="b">
<td rowspan="3">1</td>
<td>104.1</td>
<td>39.2</td>
<td>26.5</td></tr>
	  
<tr class="a">
<td>110.3</td>
<td>42.4</td>
<td>29.9</td></tr>
	  
<tr class="b">
<td>121.5</td>
<td>45.6</td>
<td>23.3</td></tr>

	  
<tr class="a">
<td rowspan="3">2</td>
<td>104.1</td>
<td>39.2</td>
<td>31.5</td></tr>
	  
<tr class="b">
<td>110.3</td>
<td>42.4</td>
<td>30.9</td></tr>
	  
<tr class="a">
<td>121.5</td>
<td>45.6</td>
<td>27.5</td></tr>

	  
<tr class="b">
<td rowspan="3">2</td>
<td>104.1</td>
<td>39.2</td>
<td>20.8</td></tr>
	  
<tr class="a">
<td>110.3</td>
<td>42.4</td>
<td>19.5</td></tr>
	</tbody>
      </table>

      
<p>(On day #3, vandals destroyed the weather sensor station at
	(121.5, 45.6), so there are only two measurements that day.)
      </p>

      
<p>To make profiles for each day's of data, let's gather some
	data that will be common to all of them.  First, say the
	weather service's OID is 2.6.1.9, and for all collected data
	the weather service has reserved an OID 2.6.1.9.2, high
	temperature measurements 2.6.1.9.2.1.  They choose to make a
	URI for each dataset,
	<tt>urn:weather:data:highs:<var>day-number</var></tt>
	where <var>day-number</var> is the day number of the data.
	The official creator for all this data will be &quot;Weather
	Service&quot;, under subject keywords &quot;weather&quot;, &quot;temperatures&quot;,
	and &quot;measurements&quot;.  They'll also make the data tables
	accessible as web documents in MIME format
	<tt>text/tab-separated-values</tt> at the address
	<tt>http://weather.gov/data/highs/<var>day-number</var>.txt</tt>.
      </p>

      
<p>Here, then, is the profile for the day 1:</p>

      
<div class="source">
<pre>&lt;profile&gt;
  &lt;profAttributes&gt;
    &lt;profId&gt;2.6.1.9.2.1.1&lt;/profId&gt;
    &lt;profType&gt;profile&lt;/profType&gt;
    &lt;profStatusId&gt;active&lt;/profStatusId&gt;
  &lt;/profAttributes&gt;
  &lt;resAttributes&gt;
    &lt;Identifier&gt;urn:weather:data:highs:1&lt;/Identifier&gt;
    &lt;Title&gt;High Temperatures - Day 1&lt;/Title&gt;
    &lt;Format&gt;text/tab-separated-values&lt;/Format&gt;
    &lt;Creator&gt;Weather Service&lt;/Creator&gt;
    &lt;Subject&gt;weather&lt;/Subject&gt;
    &lt;Subject&gt;temperatures&lt;/Subject&gt;
    &lt;Subject&gt;measurements&lt;/Subject&gt;
    &lt;resContext&gt;NOAA.NWS.Data&lt;/resContext&gt;
    &lt;resClass&gt;data.granule&lt;/resClass&gt;
    &lt;resLocation&gt;http://weather.gov/data/highs/1.txt&lt;/resLocation&gt;
  &lt;/resAttributes&gt;
  &lt;profElement&gt;
    &lt;elemName&gt;latitude&lt;/elemName&gt;
    &lt;elemType&gt;real&lt;/elemType&gt;
    &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
    &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
    &lt;elemMinValue&gt;104.1&lt;/elemMinValue&gt;
    &lt;elemMaxValue&gt;121.5&lt;/elemMaxValue&gt;
  &lt;/profElement&gt;
  &lt;profElement&gt;
    &lt;elemName&gt;longitude&lt;/elemName&gt;
    &lt;elemType&gt;real&lt;/elemType&gt;
    &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
    &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
    &lt;elemMinValue&gt;39.2&lt;/elemMinValue&gt;
    &lt;elemMaxValue&gt;45.6&lt;/elemMaxValue&gt;
  &lt;/profElement&gt;
  &lt;profElement&gt;
    &lt;elemName&gt;temperature&lt;/elemName&gt;
    &lt;elemType&gt;real&lt;/elemType&gt;
    &lt;elemUnit&gt;celsius&lt;/elemUnit&gt;
    &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
    &lt;elemMinValue&gt;23.3&lt;/elemMinValue&gt;
    &lt;elemMaxValue&gt;29.9&lt;/elemMaxValue&gt;
  &lt;/profElement&gt;
&lt;/profile&gt;</pre></div>

      
<p>Someone searching for a high temperature that exceeded 25
	degrees, for example, would find this as a matching
	resource, as the <tt>elemMinValue</tt> for
	<tt>temperature</tt> is 23.3, and 25 is over that.
      </p>

      
<p>Here are all three profiles in one document:</p>

      
<div class="source">
<pre>&lt;profiles&gt;
  &lt;profile&gt;
    &lt;profAttributes&gt;
      &lt;profId&gt;2.6.1.9.2.1.1&lt;/profId&gt;
      &lt;profType&gt;profile&lt;/profType&gt;
      &lt;profStatusId&gt;active&lt;/profStatusId&gt;
    &lt;/profAttributes&gt;
    &lt;resAttributes&gt;
      &lt;Identifier&gt;urn:weather:data:highs:1&lt;/Identifier&gt;
      &lt;Title&gt;High Temperatures - Day 1&lt;/Title&gt;
      &lt;Format&gt;text/tab-separated-values&lt;/Format&gt;
      &lt;Creator&gt;Weather Service&lt;/Creator&gt;
      &lt;Subject&gt;weather&lt;/Subject&gt;
      &lt;Subject&gt;temperatures&lt;/Subject&gt;
      &lt;Subject&gt;measurements&lt;/Subject&gt;
      &lt;resContext&gt;NOAA.NWS.Data&lt;/resContext&gt;
      &lt;resClass&gt;data.granule&lt;/resClass&gt;
      &lt;resLocation&gt;http://weather.gov/data/highs/1.txt&lt;/resLocation&gt;
    &lt;/resAttributes&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;latitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;104.1&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;121.5&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;longitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;39.2&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;45.6&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;temperature&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;celsius&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;23.3&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;29.9&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
  &lt;/profile&gt;
  &lt;profile&gt;
    &lt;profAttributes&gt;
      &lt;profId&gt;2.6.1.9.2.1.2&lt;/profId&gt;
      &lt;profType&gt;profile&lt;/profType&gt;
      &lt;profStatusId&gt;active&lt;/profStatusId&gt;
    &lt;/profAttributes&gt;
    &lt;resAttributes&gt;
      &lt;Identifier&gt;urn:weather:data:highs:2&lt;/Identifier&gt;
      &lt;Title&gt;High Temperatures - Day 2&lt;/Title&gt;
      &lt;Format&gt;text/tab-separated-values&lt;/Format&gt;
      &lt;Creator&gt;Weather Service&lt;/Creator&gt;
      &lt;Subject&gt;weather&lt;/Subject&gt;
      &lt;Subject&gt;temperatures&lt;/Subject&gt;
      &lt;Subject&gt;measurements&lt;/Subject&gt;
      &lt;resContext&gt;NOAA.NWS.Data&lt;/resContext&gt;
      &lt;resClass&gt;data.granule&lt;/resClass&gt;
      &lt;resLocation&gt;http://weather.gov/data/highs/2.txt&lt;/resLocation&gt;
    &lt;/resAttributes&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;latitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;104.1&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;121.5&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;longitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;39.2&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;45.6&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;temperature&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;celsius&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;27.5&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;31.5&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
  &lt;/profile&gt;
  &lt;profile&gt;
    &lt;profAttributes&gt;
      &lt;profId&gt;2.6.1.9.2.1.3&lt;/profId&gt;
      &lt;profType&gt;profile&lt;/profType&gt;
      &lt;profStatusId&gt;active&lt;/profStatusId&gt;
    &lt;/profAttributes&gt;
    &lt;resAttributes&gt;
      &lt;Identifier&gt;urn:weather:data:highs:3&lt;/Identifier&gt;
      &lt;Title&gt;High Temperatures - Day 3&lt;/Title&gt;
      &lt;Format&gt;text/tab-separated-values&lt;/Format&gt;
      &lt;Creator&gt;Weather Service&lt;/Creator&gt;
      &lt;Subject&gt;weather&lt;/Subject&gt;
      &lt;Subject&gt;temperatures&lt;/Subject&gt;
      &lt;Subject&gt;measurements&lt;/Subject&gt;
      &lt;resContext&gt;NOAA.NWS.Data&lt;/resContext&gt;
      &lt;resClass&gt;data.granule&lt;/resClass&gt;
      &lt;resLocation&gt;http://weather.gov/data/highs/3.txt&lt;/resLocation&gt;
    &lt;/resAttributes&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;latitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;104.1&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;110.3&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;longitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;39.2&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;42.4&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;temperature&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;celsius&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;19.5&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;20.8&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
  &lt;/profile&gt;
&lt;/profiles&gt;</pre></div>

      
<p>Given this set of profiles, a profile search for resources
	with <tt>latitude &gt; 120.0</tt> would match profiles
	for day 1 and 2, but not day 3.  Actual profile searches are
	possible by taking the above document and loading it into
	the <tt>LightweightProfileHandler</tt>, yet that becomes
	impractical for many many profiles, as it holds all of the
	profile objects in memory and &quot;searches&quot; them in place.
	More likely, data such as these would be stored in a
	relational database, and the matching profiles would be
	generated on demand.
      </p>

      
<p>Let's make one more profile, a profile that describes
	<i>the entire collection</i>:
      </p>

      
<div class="source">
<pre>
  &lt;profile&gt;
    &lt;profAttributes&gt;
      &lt;profId&gt;2.6.1.9.2.1&lt;/profId&gt;
      &lt;profType&gt;profile&lt;/profType&gt;
      &lt;profStatusId&gt;active&lt;/profStatusId&gt;
    &lt;/profAttributes&gt;
    &lt;resAttributes&gt;
      &lt;Identifier&gt;urn:weather:data:highs:index&lt;/Identifier&gt;
      &lt;Title&gt;High Temperatures&lt;/Title&gt;
      &lt;Format&gt;text/tab-separated-values&lt;/Format&gt;
      &lt;Creator&gt;Weather Service&lt;/Creator&gt;
      &lt;Subject&gt;weather&lt;/Subject&gt;
      &lt;Subject&gt;temperatures&lt;/Subject&gt;
      &lt;Subject&gt;measurements&lt;/Subject&gt;
      &lt;resContext&gt;NOAA.NWS.Data&lt;/resContext&gt;
      &lt;resClass&gt;system.profileServer&lt;/resClass&gt;
      &lt;resLocation&gt;urn:weather:data:highs:ProfileServer&lt;/resLocation&gt;
    &lt;/resAttributes&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;latitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;104.1&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;121.5&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;longitude&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;degree&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;19.5&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;31.5&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
    &lt;profElement&gt;
      &lt;elemName&gt;temperature&lt;/elemName&gt;
      &lt;elemType&gt;real&lt;/elemType&gt;
      &lt;elemUnit&gt;celsius&lt;/elemUnit&gt;
      &lt;elemEnumFlag&gt;F&lt;/elemEnumFlag&gt;
      &lt;elemMinValue&gt;19.5&lt;/elemMinValue&gt;
      &lt;elemMaxValue&gt;31.5&lt;/elemMaxValue&gt;
    &lt;/profElement&gt;
  &lt;/profile&gt;</pre></div>

      
<p>Note that in addition to several changes in the resource
	attributes, we've also changed the profile elements to
	cover the entire range of latitude, longitude, and
	temperature in the entire data set.  So, for temperature,
	the lowest high temperature for all three days was 19.5,
	and the highest was 31.5.  Now, a profile search can for
	temperatures greater than 30 will match the profile for
	the whole collection, as well as the profile for day #2.
      </p>

      
<p>In fact, the OODT framework supports automatic drill-down of
	this kind.  The <a href="/grid-query/">Query Service</a>, upon
	encountering a matching profile, checks to see if the
	<tt>resClass</tt> is <tt>system.profileServer</tt>,
	and if so, will pass the query to the profile server at the
	<tt>resLocation</tt> in the matched profile.  It will
	gather up all matching profiles and return them to the user.
	In this way, it can follow a directed graph of linked profile
	servers (automatically avoiding cycles), and gathering more
	and more results.
      </p>
    </div>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    1999&#x2013;2016
                        <a href="http://oodt.apache.org/">Apache OODT</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
